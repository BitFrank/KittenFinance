<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Kitten.finance (KIF) Kitten Finance KittenFinance $KIF DeFi Token LP Yield Farming</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="../index.css">
    <style>
        .mybox {
            display: inline-block;
            margin-bottom: 2em;
        }

        .mybox div {
            display: inline-block;
            margin-right: 0.5em;
        }

        .button {
            height: 30px;
        }

        .input,
        .input_wrap {
            height: 30px;
        }

        #btn_help {
            cursor: pointer;
            user-select: none;
        }

        #btn_help:hover {
            color: red;
        }
    </style>
</head>

<body>
    <div id="wrap">
        <div id="header" class="navbar_wrap">
            <div class="navbar" style="width: 40%; font-size: 120%;">
                <p id="btn_help">==> Help <==</p> <p style="font-size: 24px;">AlphaDex [Ropsten testnet]</p>
                <p><a href="https://www.kitten.finance" target="_blank">Kitten.Finance</a></p>
            </div>
        </div>
        <div id="main-wrap" style="min-height: 90vh;">
            <div id="main">
                <div id="help" style="line-height: 2; display: none;">
                    FAQ:
                    <ul type="round">
                        <li>There are two methods to use AlphaDex: (1) MetaMask ==[Stake]=> AlphaDex ==[Payoff]=> MetaMask. (2) Vault ==[Stake]=> AlphaDex ==[Payoff]=> Vault. The second method saves gas because the staked tokens stay in the contract (vault) until you withdraw them from the vault, however it will also be more risky if the contract has bugs (very unlikely, but still possible).</li>
                        <li>If you stake in <b>epoch x</b>, you speculate on the <b>TWAP of epoch x+1</b> vs the <b>TWAP of epoch x</b>. (TWAP = time-weighted average price)
                        <li>If the price rises in epoch x, then it is more likely that the TWAP of epoch x+1 > TWAP of epoch x. And vice versa. <b>So the bull and bear bets are not symmetric.</b></li>
                        <li>If you stake in epoch x, you can call [Payoff] after epoch x+2.</li>
                    </ul>
                    For example, assume 1 epoch = 10 minutes (always from XX:X0:XX ~ XX:X9:59). Assume current epoch is from 08:30:00 ~ 08:39:59. In this epoch, you put your stakes on the difference of:
                    <br>1. the TWAP (time-weighed average price) between [the last trade before 08:30:00] and [the last trade before 08:40:00].
                    <br>2. the TWAP (time-weighed average price) between [the last trade before 08:40:00] and [the last trade before 08:50:00].
                    <br>If you think 2 > 1, you are bullish. If you think 1 > 2, you are bearish. Winners take all stakes pro rata. If 1 = 2, then everyone gets their stakes back.
                    <br>Note: the contract reads uniswap TWAP only when [Sync market] is called. <b>This only need to happen once at the beginning of each epoch.</b> Traders will call it to fix the price, if they are winning.
                    <br>Note: there shall be at least 1 trade in each epoch. Or you cannot [Sync market] because there is no change in price. <b>So do some trades.</b>
                    <br>Hint: <b>you can bet both sides</b>, or use multiple accs to do so. Good for testing.
                    <br><br>
                    <div><a href="https://ropsten.etherscan.io/address/0xE19979De103aDa7401a715595f29F5598CfE9121" target="_blank">[AlphaDex contract]</a> &nbsp; <a href="https://www.kitten.finance" target="_blank">[Kitten.Finance]</a></div>
                    <br><br>
                </div>
                You are speculating on price movements in the next epoch. (for veterans : it's TWAP-to-TWAP, not CLOSE-to-CLOSE).
                <br><br>ALSO: <span style="color:blue; font-weight: 900;">DON'T STAKE TOO MUCH UNLESS THERE ARE ENOUGH STAKES ON THE OTHER SIDE.</span> <br><br>
                <div>
                    Step 1 : Switch MetaMask to Ropsten testnet. <a href="https://faucet.dimensions.network/" target="_blank">[Get Ropsten ETH]</a> and <a href="https://app.uniswap.org/#/swap?inputCurrency=ETH&outputCurrency=0x07cac437f097deb59a04a570ec3073e233423135" target="_blank">[Get BetCoin - a token for testing]</a>.
                </div><br>
                <div class="mybox" id="ui_head_box">
                    <div><span>Step 2 : You are speculating on</span></div>
                    <div><select class="input_market" size="1" style="width: 200px"></select></div>
                    <div><span>,</span></div>
                    <div><button class="button" style="flex:1" id="trade_uniswap">Trade on uniswap</button></div>
                    <div><span>to move the price. Click</span></div>
                    <div><button class="button" style="flex:1" id="sync_market">Sync market</button></div>
                    <div><span>to start a new epoch when the time is right.</span></div>
                </div>
                <div class="mybox">
                    <div><span>Step 3 : Deposit <span id="stake_token_name">?</span> in AlphaDex Vault to save gas. Set amount = </span></div>
                    <div class="input_wrap"><input placeholder="vault amount" class="input vault_amt" style="width: 120px"></div>
                    <div><button class="button" style="flex:1" id="vault_deposit">Vault deposit</button></div>
                    <div><button class="button" style="flex:1" id="vault_withdraw">Vault withdraw</button></div>
                    <div>You have <span id="vault_amt">?</span> in Vault, <span id="wallet_amt">?</span> in MetaMask.</div>
                </div>
                <div class="mybox">
                    <div><span>Step 4 : Speculate on price movements. Set <b>stake amount</b> = </span></div>
                    <div class="input_wrap"><input placeholder="stake amount" class="input stake_amt" style="width: 120px"></div>
                    <div><span>and click the [stake] button in the table, to stake from Vault or MetaMask.</span></div>
                </div>
                <div class="flexbox">
                    <div><button class="button" style="flex:1" id="read_more_epochs">Read more epochs</button></div>
                    <div>
                        <soan style="float:right"><span id="market_log" style="font-weight: 900; color: blue;">initializing...</span><span id="market_log_time"></span></soan>
                    </div>
                    <div><span>for this market, an epoch = <span id="market_epoch_period">?</span></span></div>
                </div><br>
                <table id="table_trade" style="width: 100%">
                    <thead style="font-weight: 900;">
                        <tr>
                            <td>epoch</td>
                            <td>t</td>
                            <td>tUniswap</td>
                            <td>TWAP from tThis to tNext (you are speculating on this)</td>
                            <td>stakeToken</td>
                            <td>bullishStakes</td>
                            <td>bearishStakes</td>
                            <td>winner</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>?</td>
                            <td>?</td>
                            <td>?</td>
                            <td>?</td>
                            <td>?</td>
                            <td>reading... (takes 10 ~ 60 seconds)</td>
                            <td>reading...</td>
                            <td>?</td>
                        </tr>
                    </tbody>
                </table>
                <br><br>
                <div id="log"></div>
                <br><br>
            </div>
        </div>
        <div id="footer">
            <div class="navbar_wrap">
                <div class="navbar no_underline bottom_bar">
                    <a href="https://discord.gg/pMaZswC" target="_blank">Discord (we have a great community üê±)</a> <a href="https://t.me/kitten_finance_group" target="_blank">Telegram</a> <a href="https://twitter.com/KittenFinance" target="_blank">Twitter</a>
                    <a href="https://medium.com/@kitten.finance" target="_blank">Medium</a>
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript" src="../jquery-3.5.1.min.js"></script>
    <script type="text/javascript" src="../ethers-5.0.umd.min.js"></script>
    <script type="text/javascript" src="../helper.js"></script>
    <script type="text/javascript" src="../contract.js"></script>
    <script type="text/javascript" src="index.js"></script>
</body>

</html>
